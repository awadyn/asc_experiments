
#include <diet/termios.h>

int 
dietlib_ioctl(int fd, int ioctlnum, void *data, int *size, int *ioctlrc);
{  
  int rc = -1;

  if (ioctlnum == TCGETS) {
    if (*size < sizeof(struct termios)) return -1;
    struct termios *ts=termiosdata;
    *size = sizeof(struct termios);
    *ioctlrc = ioctl(fd, TCGETS, ts);
    rc = 1;
  } 

  return rc;
}
